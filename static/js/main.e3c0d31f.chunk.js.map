{"version":3,"sources":["helpers/lsState.helper.ts","helpers/http.helper.ts","api/auth.ts","store/profileSlice.ts","store/alertSlice.ts","store/index.ts","layouts/Default.tsx","ui-components/DefaultRoute.tsx","ui-components/Boop.tsx","modules/auth/layouts/Default.tsx","hooks/useAlert.tsx","hooks/useTitle.tsx","hooks/usePrevious.tsx","hooks/useQueue.tsx","hooks/useClickOutside.tsx","helpers/validate.helper.ts","ui-components/Input/index.tsx","ui-components/Button/index.tsx","ui-components/Link/index.tsx","ui-components/CloseButton/index.tsx","ui-components/Modal/index.tsx","modules/auth/pages/Login/Index.tsx","modules/auth/pages/PasswordReset/Index.tsx","modules/auth/pages/_Index.tsx","modules/main/pages/Main.tsx","helpers/timer.helper.ts","ui-components/AlertManager/Alert/index.tsx","ui-components/AlertManager/index.tsx","App.tsx","index.tsx"],"names":["STATE_NAME","handleSuccessRequest","config","a","http","axios","create","baseURL","Accept","interceptors","request","use","errorResponse","Promise","reject","response","successResponse","data","fields","JSON","parse","Object","keys","forEach","fieldKey","field","message","error","temporaryHandler","login","post","headers","logout","resetPassword","email","profileSlice","createSlice","name","initialState","isAuthenticated","user","reducers","setUser","state","action","payload","clearUser","setIsAuthenticated","dispatch","authApi","selectIsAuthenticated","profile","selectUser","actions","alertSlice","successItems","errorItems","addSuccess","text","push","id","_uniqueId","addError","deleteAlert","deletingId","newSuccessItems","filter","item","length","newErrorItems","clearSuccesses","clearErrors","clearAll","selectSuccessItems","alert","selectErrorItems","savingState","store","configureStore","reducer","profileReducer","alertReducer","preloadedState","serialisedState","localStorage","getItem","errors","console","warn","loadFromLocalStorage","subscribe","stringify","setItem","saveToLocalStorage","getState","DefaultLayout","props","className","children","DefaultRoute","exact","path","routes","to","Boop","useState","isBooped","setIsBooped","style","display","backfaceVisibility","transform","rotation","transition","timing","useEffect","timeoutId","setTimeout","clearTimeout","onMouseEnter","defaultProps","AuthDefaultLayout","useResizeDetector","parentWidth","width","parentHeight","height","parentRef","ref","useAlert","useDispatch","event","useTitle","title","document","usePrevious","value","useRef","current","useQueue","onHandle","queue","setQueue","isHandling","setIsHandling","addToQueue","params","oldQueue","popFromQueue","slice","handle","prevQueue","useClickOutside","handleClickOutside","contains","target","onClick","addEventListener","removeEventListener","EVENTS","touchFreeEvents","vEmail","extraParams","events","validate","test","vRequired","defaultMessage","vApi","apiError","Input","setErrors","handleErrors","eventName","addErrorToQueue","popErrorFromQueue","showingError","normalizedErrors","touched","setTouched","isFirstBlurAfterTouched","setIsFirstBlurAfterTouched","isFocus","setIsFocus","normalizeRules","rules","filteredRules","ruleItem","includes","prevValidate","oldMutateRules","newMutateRules","_","isEqual","newErrors","i","validateItem","updatedError","defaultEvents","isEvent","isTouched","undefined","label","type","placeholder","onKeyPress","keyCode","which","preventDefault","onlyNumber","onFocus","onBlur","onChange","onChangeFull","right","Button","theme","disabled","Link","href","pathname","CloseButton","defaultTypes","ModalPortal","modalRoot","getElementById","el","createElement","modalTitle","classList","add","appendChild","removeChild","ReactDOM","createPortal","Modal","onClose","handleEsc","window","Fragment","isOpen","Login","history","useHistory","location","useLocation","setEmail","password","setPassword","isShowPassword","setIsShowPassword","isRegModalOpen","setIsRegModalOpen","apiErrors","setApiErrors","from","onLogin","replace","onSubmit","join","e","maxWidth","map","contact","PasswordReset","contentWidth","contentRef","isEmailSent","setIsEmailSent","infoWidth","normalizedContentWidth","AuthIndex","Main","useSelector","padding","token","CustomTimer","callback","delay","_id","_started","_isRunning","_callback","_remaining","this","start","Date","getTime","pause","Alert","isShow","setIsShow","getTimeLeft","customTimer","setCustomTimer","timeLeft","setTimeLeft","onPrettyDelete","timeout","intervalId","setInterval","clear","clearInterval","onDelete","onMouseLeave","AlertManager","normalizeAlerts","items","index","normalizedErrorItems","reverse","normalizedSuccessItems","onDeleteAlert","alertItem","errorItem","successItem","WithStore","Protected","MainWrapper","App","key","newValue","oldValue","reload","render","StrictMode"],"mappings":"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","file":"static/js/main.e3c0d31f.chunk.js","sourcesContent":["// import { useHistory } from \"react-router-dom\"\n\n/**\n * localStorage for persistantState (redux)\n */\n\nexport const STATE_NAME = \"persistantState\"\n\nexport const getCurrentState = () => {\n\tconst serialisedState = localStorage.getItem(STATE_NAME)\n\tif (serialisedState === null) return {}\n\n\treturn JSON.parse(serialisedState)\n}\n\n/**\n *\n * @param {string} key example - \"profile.user.name\"\n * @param {any} value\n */\nexport const setLsItem = (key: string, value: any) => {\n\tconst currentState = getCurrentState()\n\tconst props = key.split(\".\").reverse()\n\n\tlet child = value\n\tfor (const prop of props) {\n\t\tchild = { [prop]: child }\n\t}\n\n\tconst newState = { ...currentState, ...child }\n\tlocalStorage.setItem(STATE_NAME, JSON.stringify(newState))\n}\n\nexport const saveToLocalStorage = (state: any, savingState?: (state: any) => any) => {\n\ttry {\n\t\tconst serialisedState = JSON.stringify(savingState ? savingState(state) : state)\n\t\tlocalStorage.setItem(STATE_NAME, serialisedState)\n\t} catch (errors) {\n\t\tconsole.warn(errors)\n\t}\n}\n\nexport const loadFromLocalStorage = () => {\n\ttry {\n\t\tconst serialisedState = localStorage.getItem(STATE_NAME)\n\t\tif (serialisedState === null) return undefined\n\n\t\treturn JSON.parse(serialisedState)\n\t} catch (errors) {\n\t\tconsole.warn(errors)\n\t\treturn undefined\n\t}\n}\n","import axios from \"axios\"\nimport { handleErrors } from \"@/helpers/error.helper\"\n\nconst BASE_URL = \"https://reqres.in/api\"\n\nconst handleSuccessRequest = async (config: any) => config\n\nconst handleErrorRequest = (errorResponse: any) => Promise.reject(errorResponse)\n\nconst handleSuccessResponse = (successResponse: any) => successResponse.data\n\nconst temporaryHandler = (errorResponse: any) => {\n\tconst response = errorResponse.response\n\tconst fields = JSON.parse(response.config.data)\n\tObject.keys(fields).forEach((fieldKey: string) => {\n\t\tconst field = fields[fieldKey]\n\n\t\tif (!field || field == \"\") {\n\t\t\tfields[fieldKey] = \"Не заполнено\"\n\t\t} else {\n\t\t\tfields[fieldKey] = null\n\t\t}\n\t})\n\n\treturn Promise.reject({ message: response.data.error, fields: fields })\n}\n\nconst handleErrorResponse = (errorResponse: any) => {\n\tif (!errorResponse.response) {\n\t\treturn Promise.reject({ message: \"Внутренняя ошибка\", fields: {} })\n\t}\n\n\t// return Promise.reject(handleErrors(errorResponse.response.data))\n\treturn temporaryHandler(errorResponse)\n}\n\nconst http = axios.create({\n\tbaseURL: BASE_URL,\n\t// 'Authorization': `Bearer ${keys.access_token}`,\n\tAccept: \"application/json\",\n\t\"Content-Type\": \"application/x-www-form-urlencoded\"\n} as any)\n\nhttp.interceptors.request.use(handleSuccessRequest, handleErrorRequest)\nhttp.interceptors.response.use(handleSuccessResponse, handleErrorResponse)\n\nexport { http }\n","import { http } from \"@/helpers/http.helper\"\n\nconst login = async (data: loginDataType) => {\n\tconst response = await http.post(\"login\", data, { headers: { \"X-FakeAPI-Action\": \"register\" } })\n\treturn response\n}\n\nconst logout = async () => {\n\t// Exit action\n}\n\nconst resetPassword = async ({ email }: resetPasswordDataType) => {\n\t// Exit action\n}\n\nexport default { login, logout, resetPassword }\n","import { createSlice } from \"@reduxjs/toolkit\"\nimport authApi from \"@/api/auth\"\n\ninterface userType {\n\tname: string\n}\n\ninterface stateType {\n\tuser: userType | null\n\tisAuthenticated: boolean\n}\n\ninterface setUserType {\n\tuser: userType | null\n}\n\nexport const profileSlice = createSlice({\n\tname: \"profile\",\n\n\tinitialState: {\n\t\tisAuthenticated: false,\n\t\tuser: null\n\t} as stateType,\n\n\treducers: {\n\t\tsetUser: (state, action: { payload: any }) => {\n\t\t\tstate.user = action.payload || null\n\t\t},\n\n\t\tclearUser: state => {\n\t\t\tstate.user = null\n\t\t},\n\n\t\tsetIsAuthenticated: (state, action) => {\n\t\t\tstate.isAuthenticated = action.payload\n\t\t}\n\t}\n})\n\nexport const login = (data: loginDataType) => async (dispatch: any) => {\n\tconst response = await authApi.login(data)\n\n\tdispatch(setUser(response))\n\tdispatch(setIsAuthenticated(true))\n}\n\nexport const logout = () => async (dispatch: any) => {\n\tawait authApi.logout()\n\n\tdispatch(setIsAuthenticated(false))\n\tdispatch(setUser(null))\n}\n\nexport const resetPassword = (data: resetPasswordDataType) => async (dispatch: any) => {\n\tawait authApi.resetPassword(data)\n}\n\nexport const selectIsAuthenticated = (state: any) => state.profile.isAuthenticated\nexport const selectUser = (state: any) => state.profile.user\n\nexport const { setUser, clearUser, setIsAuthenticated } = profileSlice.actions\nexport default profileSlice.reducer\n","import { createSlice } from \"@reduxjs/toolkit\"\nimport _uniqueId from \"lodash/uniqueId\"\n\nexport const alertSlice = createSlice({\n\tname: \"alert\",\n\n\tinitialState: {\n\t\tsuccessItems: [],\n\t\terrorItems: []\n\t} as {\n\t\tsuccessItems: alertType[]\n\t\terrorItems: alertType[]\n\t},\n\n\treducers: {\n\t\taddSuccess: (state, action) => {\n\t\t\tlet data = action.payload\n\t\t\tif (typeof action.payload == \"string\") {\n\t\t\t\tdata = { text: action.payload }\n\t\t\t}\n\n\t\t\tstate.successItems.push({ id: _uniqueId(\"success-\"), ...data })\n\t\t},\n\n\t\taddError: (state, action) => {\n\t\t\tlet data = action.payload\n\t\t\tif (typeof action.payload == \"string\") {\n\t\t\t\tdata = { text: action.payload }\n\t\t\t}\n\n\t\t\tstate.errorItems.push({ id: _uniqueId(\"error-\"), ...data })\n\t\t},\n\n\t\t/**\n\t\t * Принимает id\n\t\t */\n\t\tdeleteAlert: (state, action: { payload: string }) => {\n\t\t\tconst deletingId = action.payload\n\n\t\t\tconst newSuccessItems = state.successItems.filter(item => item.id != deletingId)\n\t\t\tif (newSuccessItems.length != state.successItems.length) {\n\t\t\t\tstate.successItems = newSuccessItems\n\t\t\t}\n\n\t\t\tconst newErrorItems = state.errorItems.filter(item => item.id != deletingId)\n\t\t\tif (newSuccessItems.length != state.errorItems.length) {\n\t\t\t\tstate.errorItems = newErrorItems\n\t\t\t}\n\t\t},\n\n\t\tclearSuccesses: state => {\n\t\t\tstate.successItems = []\n\t\t},\n\n\t\tclearErrors: state => {\n\t\t\tstate.errorItems = []\n\t\t},\n\n\t\tclearAll: state => {\n\t\t\tstate.successItems = []\n\t\t\tstate.errorItems = []\n\t\t}\n\t}\n})\n\nexport const selectSuccessItems = (state: any) => state.alert.successItems\nexport const selectErrorItems = (state: any) => state.alert.errorItems\n\nexport const { addSuccess, addError, deleteAlert, clearSuccesses, clearErrors, clearAll } = alertSlice.actions\nexport default alertSlice.reducer\n","import { configureStore } from \"@reduxjs/toolkit\"\nimport { loadFromLocalStorage, saveToLocalStorage } from \"@/helpers/lsState.helper\"\n\nimport profileReducer from \"./profileSlice\"\nimport alertReducer from \"./alertSlice\"\n\n// things that need to be saved\nconst savingState = (state: any) => {\n\treturn {\n\t\tprofile: {\n\t\t\tuser: state.profile.user,\n\t\t\tisAuthenticated: state.profile.isAuthenticated\n\t\t}\n\t}\n}\n\nconst store = configureStore({\n\treducer: {\n\t\tprofile: profileReducer,\n\t\talert: alertReducer\n\t},\n\tpreloadedState: loadFromLocalStorage()\n})\n\nstore.subscribe(() => saveToLocalStorage(store.getState(), savingState))\n\nexport default store\n","import React from \"react\"\nimport \"./Default.scss\"\n\nconst DefaultLayout = (props: { children: any }) => {\n\treturn <div className=\"default\">{props.children}</div>\n}\n\nexport default DefaultLayout\n","import React from \"react\"\nimport { Route, Switch, Redirect } from \"react-router-dom\"\nimport PropTypes from \"prop-types\"\n\ninterface propsType {\n\tchildren: any\n\tpath: string\n\troutes?: any\n}\n\nconst DefaultRoute = (props: propsType) => {\n\treturn (\n\t\t<Switch>\n\t\t\t<Route exact path={props.path}>\n\t\t\t\t{props.children}\n\t\t\t</Route>\n\n\t\t\t{props.routes}\n\n\t\t\t<Route exact path={props.path + \"/*\"}>\n\t\t\t\t<Redirect to={props.path} />\n\t\t\t</Route>\n\t\t</Switch>\n\t)\n}\n\nDefaultRoute.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tpath: PropTypes.string.isRequired,\n\troutes: PropTypes.node\n}\n\nexport default DefaultRoute\n","import React, { useState, useEffect } from \"react\"\nimport PropTypes from \"prop-types\"\n\n/**\n * !!!\n * https://www.joshwcomeau.com/react/boop/\n */\n\ninterface propsType {\n\tchildren: any\n\tclassName?: string\n\trotation?: number\n\ttiming?: number\n}\n\nconst Boop = (props: propsType) => {\n\tconst [isBooped, setIsBooped] = useState(false)\n\n\tconst style: any = {\n\t\tdisplay: \"inline-block\",\n\t\tbackfaceVisibility: \"hidden\",\n\t\ttransform: isBooped ? `rotate(${props.rotation}deg)` : `rotate(0deg)`,\n\t\ttransition: `transform ${props.timing}ms`\n\t}\n\n\tuseEffect(() => {\n\t\tif (!isBooped) return\n\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\tsetIsBooped(false)\n\t\t}, props.timing)\n\n\t\treturn () => {\n\t\t\tclearTimeout(timeoutId)\n\t\t}\n\t}, [isBooped, props.timing])\n\n\tconst trigger = () => {\n\t\tsetIsBooped(true)\n\t}\n\n\treturn (\n\t\t<span className={props.className} onMouseEnter={trigger} style={style}>\n\t\t\t{props.children}\n\t\t</span>\n\t)\n}\n\nBoop.defaultProps = {\n\trotation: 30,\n\ttiming: 250\n}\n\nBoop.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tclassName: PropTypes.string,\n\trotation: PropTypes.number,\n\ttiming: PropTypes.number\n}\n\nexport default Boop\n","import React from \"react\"\nimport \"./Default.scss\"\nimport { useResizeDetector } from \"react-resize-detector\"\n\nimport Boop from \"@/ui-components/Boop\"\n\nconst AuthDefaultLayout = (props: { children: (params: any) => any }) => {\n\tconst { width: parentWidth, height: parentHeight, ref: parentRef } = useResizeDetector()\n\n\treturn (\n\t\t<div className=\"auth-default\">\n\t\t\t<div className=\"auth-default__small-description\">Система электронного документооборота “АНИНА”</div>\n\n\t\t\t<div className=\"auth-default-inner\">\n\t\t\t\t<div className=\"auth-default__description\">\n\t\t\t\t\t<h1 className=\"auth-default__description-title\">Система электронного документооборота “АНИНА”</h1>\n\n\t\t\t\t\t<div className=\"auth-default__description-slogan slogan\">\n\t\t\t\t\t\t<div className=\"slogan__title\">Наш слоган:</div>\n\t\t\t\t\t\t<div className=\"slogan__description\">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\tНе гарантируем работоспособность,\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\tзато дизайн вон какой!\n\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t<Boop rotation={40} timing={300}>\n\t\t\t\t\t\t\t\t<span className=\"slogan__description-icon\">👍</span>\n\t\t\t\t\t\t\t</Boop>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div ref={parentRef} className=\"auth-default__children-wrapper\">\n\t\t\t\t\t<div className=\"auth-default__children\">{props.children({ parentWidth, parentHeight })}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"auth-default__copyright\">© 2021 Spanri</div>\n\t\t</div>\n\t)\n}\n\nexport default AuthDefaultLayout\n","import React from \"react\"\nimport { useDispatch } from \"react-redux\"\nimport { addSuccess, addError, deleteAlert, clearSuccesses, clearErrors, clearAll } from \"@/store/alertSlice\"\n\nconst useAlert = () => {\n\tconst dispatch = useDispatch()\n\n\treturn {\n\t\taddSuccess: (event: any) => dispatch(addSuccess(event)),\n\t\taddError: (event: any) => dispatch(addError(event)),\n\t\tdeleteAlert: (event: any) => dispatch(deleteAlert(event)),\n\t\tclearSuccesses: () => dispatch(clearSuccesses()),\n\t\tclearErrors: () => dispatch(clearErrors()),\n\t\tclearAll: () => dispatch(clearAll())\n\t}\n}\n\nexport default useAlert\n","import { useEffect } from \"react\"\n\nconst useTitle = (title: string) => {\n\tuseEffect(() => {\n\t\tif (title) {\n\t\t\tdocument.title = title + \" | СЭД АНИНА\"\n\t\t}\n\t})\n}\n\nexport default useTitle\n","import { useEffect, useRef } from \"react\"\n\n/**\n * !!!\n * https://stackoverflow.com/questions/53446020/how-to-compare-oldvalues-and-newvalues-on-react-hooks-useeffect\n */\n\nconst usePrevious = <T extends unknown>(value: T): T | undefined => {\n\tconst ref = useRef<T>()\n\n\tuseEffect(() => {\n\t\tref.current = value\n\t})\n\n\treturn ref.current\n}\n\nexport default usePrevious\n","import React, { useState, useEffect } from \"react\"\nimport { usePrevious } from \"@/hooks\"\n\nconst useQueue = ({ onHandle }: { onHandle: (params: any) => void }) => {\n\tconst [queue, setQueue]: [any, any] = useState([])\n\tconst [isHandling, setIsHandling] = useState(false)\n\n\tconst addToQueue = async (params: any) => {\n\t\tawait setQueue((oldQueue: any) => [...oldQueue, params])\n\t}\n\n\tconst popFromQueue = async () => {\n\t\tawait setQueue((oldQueue: any) => oldQueue.slice(1))\n\t}\n\n\tconst handle = async (params: any) => {\n\t\tsetIsHandling(true)\n\t\tawait onHandle(params)\n\t\tsetIsHandling(false)\n\t}\n\n\tconst prevQueue = usePrevious(queue)\n\tuseEffect(() => {\n\t\tif (prevQueue) {\n\t\t\t// add\n\t\t\tif (queue.length > prevQueue.length) {\n\t\t\t\tif (!isHandling) {\n\t\t\t\t\thandle(queue[0])\n\t\t\t\t}\n\t\t\t}\n\t\t\t// pop\n\t\t\telse if (queue.length < prevQueue.length) {\n\t\t\t\tconst isEmpty = !queue.length\n\t\t\t\tif (!isEmpty) {\n\t\t\t\t\thandle(queue[0])\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [queue])\n\n\treturn {\n\t\taddToQueue,\n\t\tpopFromQueue,\n\t\tqueue\n\t}\n}\n\nexport default useQueue\n","import React, { useEffect } from \"react\"\n\n/**\n * !!!\n * https://stackoverflow.com/questions/32553158/detect-click-outside-react-component\n */\n\nconst useClickOutside = (props: { ref: any; onClick?: (event: any) => void }) => {\n\tuseEffect(() => {\n\t\t// Alert if clicked on outside of element\n\t\tconst handleClickOutside = (event: any) => {\n\t\t\tif (props.ref.current && !props.ref.current.contains(event.target)) {\n\t\t\t\tif (props.onClick) {\n\t\t\t\t\tprops.onClick(event)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Bind the event listener\n\t\tdocument.addEventListener(\"mousedown\", handleClickOutside)\n\n\t\treturn () => {\n\t\t\t// Unbind the event listener on clean up\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside)\n\t\t}\n\t}, [props.ref])\n}\n\nexport default useClickOutside\n","interface validateType {\n\t(value: any): string | null\n}\n\ninterface receivedParamsType {\n\tmessage?: string\n\tevents?: string[]\n}\n\nexport interface paramsType extends receivedParamsType {\n\tvalidate: validateType\n}\n\nexport const EVENTS = {\n\tBLUR: \"blur\",\n\tCHANGE: \"change\",\n\tCHANGE_AFTER_FIRST_BLUR: \"changeAfterFirstBlur\",\n\tMUTATE: \"mutate\"\n}\n\n// even if not touched\nexport const touchFreeEvents = [EVENTS.MUTATE]\n\n/**\n * @param {paramsType} params\n * @returns {paramsType}\n */\nexport const vEmail = (params?: receivedParamsType) => {\n\tconst defaultMessage = \"Неправильный формат\"\n\tconst extraParams = { events: [EVENTS.BLUR, EVENTS.CHANGE_AFTER_FIRST_BLUR] }\n\n\tconst validate = (email: string) => {\n\t\tconst emailFormat = /^[a-zA-Z0-9\\.]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(email)\n\t\tif (!emailFormat) {\n\t\t\treturn params?.message || defaultMessage\n\t\t}\n\n\t\treturn null\n\t}\n\n\treturn { ...extraParams, ...params, validate }\n}\n\n/**\n * @param {string} value\n * @param {paramsType} params\n * @returns {paramsType}\n */\nexport const vRequired = (params?: paramsType) => {\n\tconst defaultMessage = \"Обязательно к заполнению\"\n\tconst extraParams = { message: defaultMessage }\n\n\tconst validate = (value: string) => {\n\t\tif (!value) {\n\t\t\treturn params?.message || defaultMessage\n\t\t}\n\n\t\treturn null\n\t}\n\n\treturn { ...extraParams, ...params, validate }\n}\n\n/**\n *@param {string} apiError\n * @param {paramsType} params\n * @returns {paramsType}\n */\nexport const vApi = (apiError: string, params?: paramsType) => {\n\tconst defaultMessage = \"Значение заполнено неправильно\"\n\t// apiError - for good updating of error watcher\n\tconst extraParams = { apiError, message: defaultMessage, events: [EVENTS.MUTATE] }\n\n\tconst validate = (value: string) => {\n\t\tif (!!apiError) {\n\t\t\treturn params?.message || defaultMessage\n\t\t}\n\n\t\treturn null\n\t}\n\n\treturn { ...extraParams, ...params, validate }\n}\n","import React, { useState, useEffect } from \"react\"\nimport PropTypes from \"prop-types\"\nimport _ from \"lodash\"\nimport \"./styles.scss\"\n\nimport { usePrevious, useQueue } from \"@/hooks\"\nimport { paramsType, EVENTS, touchFreeEvents } from \"@/helpers/validate.helper\"\n\ninterface propsType {\n\tvalue: string | number\n\tclassName?: string\n\tplaceholder?: string\n\ttype?: string\n\tvalidate?: paramsType[]\n\tdisabled?: boolean\n\tlabel?: any\n\twidth?: string\n\theight?: string\n\tright?: any\n\tonChange?: (value: any) => void\n\tonChangeFull?: (value: any) => void\n}\n\nconst Input = (props: propsType) => {\n\t// 1 error for 1 validateRule (errors.length = validate.length)\n\tconst [errors, setErrors]: [any[], any] = useState([])\n\n\tconst onErrorHandle = (params: { value: any; eventName: string }) => {\n\t\thandleErrors(params.value, params.eventName)\n\t}\n\tconst { addToQueue: addErrorToQueue, popFromQueue: popErrorFromQueue, queue } = useQueue({ onHandle: onErrorHandle })\n\n\tconst showingError = (() => {\n\t\tconst normalizedErrors = errors.filter(error => !!error)\n\t\tif (normalizedErrors.length) {\n\t\t\treturn normalizedErrors[0]\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t})()\n\n\tconst [touched, setTouched] = useState(false)\n\tconst [isFirstBlurAfterTouched, setIsFirstBlurAfterTouched] = useState(false)\n\tconst [isFocus, setIsFocus] = useState(false)\n\n\tconst normalizeRules = (rules: any) => {\n\t\tif (!rules) return null\n\n\t\tconst filteredRules = rules.filter((ruleItem: any) => ruleItem.events?.includes(EVENTS.MUTATE))\n\t\treturn JSON.parse(JSON.stringify(filteredRules))\n\t}\n\n\tconst prevValidate = usePrevious(props.validate)\n\tuseEffect(() => {\n\t\tconst oldMutateRules = normalizeRules(prevValidate)\n\t\tconst newMutateRules = normalizeRules(props.validate)\n\n\t\tif (oldMutateRules && !_.isEqual(oldMutateRules, newMutateRules)) {\n\t\t\taddErrorToQueue({ value: props.value, eventName: EVENTS.MUTATE })\n\t\t}\n\t}, [props.validate])\n\n\tconst onlyNumber = (event: any) => {\n\t\tlet keyCode = event.keyCode ? event.keyCode : event.which\n\t\tif ((keyCode < 48 || keyCode > 57) && keyCode !== 46) {\n\t\t\t// 46 is dot\n\t\t\tevent.preventDefault()\n\t\t}\n\t}\n\n\tconst handleKeyPress = (event: any) => {\n\t\tif (props.type === \"number\") {\n\t\t\tonlyNumber(event)\n\t\t}\n\t}\n\n\tconst handleFocus = (event: any) => {\n\t\tsetIsFocus(true)\n\t}\n\n\tconst handleBlur = (event: any) => {\n\t\tsetIsFocus(false)\n\n\t\tif (touched && !isFirstBlurAfterTouched) {\n\t\t\tsetIsFirstBlurAfterTouched(true)\n\t\t}\n\n\t\taddErrorToQueue({ value: event.target.value, eventName: EVENTS.BLUR })\n\t}\n\n\tconst handleChange = (event: { target: { value: any } }) => {\n\t\tif (props.onChange) {\n\t\t\tprops.onChange(event.target.value)\n\t\t}\n\n\t\tif (props.onChangeFull) {\n\t\t\tprops.onChangeFull(event)\n\t\t}\n\n\t\tif (!touched) {\n\t\t\tsetTouched(true)\n\t\t}\n\n\t\taddErrorToQueue({ value: event.target.value, eventName: EVENTS.CHANGE })\n\n\t\tif (touched && isFirstBlurAfterTouched) {\n\t\t\taddErrorToQueue({ value: event.target.value, eventName: EVENTS.CHANGE_AFTER_FIRST_BLUR })\n\t\t}\n\t}\n\n\tconst handleErrors = (value: any, eventName: string) => {\n\t\tif (!props.validate) return\n\n\t\tconst newErrors: any[] = []\n\n\t\tfor (let i = 0; i < props.validate.length; i++) {\n\t\t\tconst validateItem = props.validate[i]\n\n\t\t\tconst isEvent = (() => {\n\t\t\t\tconst defaultEvents = [EVENTS.BLUR, EVENTS.CHANGE]\n\t\t\t\tconst events = validateItem.events || defaultEvents\n\t\t\t\tconst isEvent = events?.includes(eventName)\n\t\t\t\tconst isTouched = touched || touchFreeEvents.includes(eventName)\n\n\t\t\t\treturn isEvent && isTouched\n\t\t\t})()\n\n\t\t\tconst updatedError = (() => {\n\t\t\t\tif (!isEvent) {\n\t\t\t\t\treturn errors[i]\n\t\t\t\t}\n\n\t\t\t\tconst message = validateItem.validate(value)\n\t\t\t\treturn message\n\t\t\t})()\n\n\t\t\tnewErrors.push(updatedError || undefined)\n\t\t}\n\n\t\tsetErrors(() => newErrors)\n\t\tpopErrorFromQueue()\n\t}\n\n\treturn (\n\t\t<div className={`ui-input ${props.className}`}>\n\t\t\t{props.label && <div className=\"ui-input__label\">{props.label}</div>}\n\n\t\t\t<div className={`ui-input__content ${isFocus && \"focus\"} ${!!showingError && \"error\"}`}>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"ui-input__input\"\n\t\t\t\t\tvalue={props.value}\n\t\t\t\t\ttype={props.type}\n\t\t\t\t\tplaceholder={props.placeholder || (props.label as string) || \"\"}\n\t\t\t\t\tstyle={{ width: props.width, height: props.height }}\n\t\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t\t\tonFocus={handleFocus}\n\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t\t{props.right && <div className=\"ui-input__right\">{props.right}</div>}\n\t\t\t</div>\n\n\t\t\t{showingError && <div className=\"ui-input__error-message\">{showingError}</div>}\n\t\t</div>\n\t)\n}\n\nInput.defaultProps = {\n\ttype: \"text\",\n\twidth: \"200px\",\n\theight: \"40px\"\n}\n\nInput.propTypes = {\n\tvalue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tclassName: PropTypes.string,\n\tplaceholder: PropTypes.string,\n\ttype: PropTypes.string,\n\tvalidate: PropTypes.array,\n\tdisabled: PropTypes.bool,\n\tlabel: PropTypes.node,\n\twidth: PropTypes.string,\n\theight: PropTypes.string,\n\tright: PropTypes.node,\n\tonChange: PropTypes.func,\n\tonChangeFull: PropTypes.func\n}\n\nexport default Input\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport \"./styles.scss\"\n\nconst TYPES = [\"button\", \"submit\", \"reset\"] as const\nconst THEMES = [\"primary\", \"primary-animated\", \"gray\"] as const\n\ninterface propsType {\n\tchildren: any\n\tref?: any\n\tclassName?: string\n\ttype?: typeof TYPES[number]\n\ttheme?: typeof THEMES[number]\n\tdisabled?: boolean\n\twidth?: string\n\theight?: string\n\tonClick?: (event: any) => void\n}\n\nconst Button = (props: propsType) => {\n\tconst handleClick = (event: any) => {\n\t\tif (props.onClick) {\n\t\t\tprops.onClick(event)\n\t\t}\n\t}\n\n\treturn (\n\t\t<button\n\t\t\tref={props.ref}\n\t\t\tclassName={`ui-button ${props.theme} ${props.className}`}\n\t\t\ttype={props.type || \"button\"}\n\t\t\tdisabled={props.disabled}\n\t\t\tstyle={{ width: props.width, height: props.height }}\n\t\t\tonClick={handleClick}\n\t\t>\n\t\t\t{props.children}\n\t\t</button>\n\t)\n}\n\nButton.defaultProps = {\n\ttype: \"button\",\n\ttheme: \"primary\",\n\twidth: \"200px\",\n\theight: \"40px\"\n}\n\nButton.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tref: PropTypes.any,\n\tclassName: PropTypes.string,\n\ttype: PropTypes.oneOf(TYPES),\n\ttheme: PropTypes.oneOf(THEMES),\n\tdisabled: PropTypes.bool,\n\twidth: PropTypes.string,\n\theight: PropTypes.string,\n\tonClick: PropTypes.func\n}\n\nexport default Button\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport \"./styles.scss\"\n\nconst THEMES = [\"common\"] as const\n\ninterface propsType {\n\tchildren: any\n\tclassName?: string\n\ttarget?: string\n\ttheme?: typeof THEMES[number]\n\t// to or onClick\n\tto?: { pathname: string }\n\tonClick?: (event: any) => void\n}\n\nconst Link = (props: propsType) => {\n\tconst handleClick = (event: any) => {\n\t\tif (props.onClick) {\n\t\t\tprops.onClick(event.target.value)\n\n\t\t\treturn true\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className={`ui-link ${props.theme} ${props.className}`}>\n\t\t\t<a href={props.to ? props.to.pathname : \"\"} onClick={handleClick}>\n\t\t\t\t{props.children}\n\t\t\t</a>\n\t\t</div>\n\t)\n}\n\nLink.defaultProps = {\n\ttarget: \"_self\",\n\ttheme: \"common\"\n}\n\nLink.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tclassName: PropTypes.string,\n\ttarget: PropTypes.string,\n\ttheme: PropTypes.oneOf(THEMES),\n\n\tto: PropTypes.object,\n\tonClick: PropTypes.func\n}\n\nexport default Link\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport \"./styles.scss\"\n\nimport Boop from \"@/ui-components/Boop\"\n\ninterface propsType {\n\tclassName?: string\n\tonClick?: (event: any) => void\n}\n\nconst CloseButton = (props: propsType) => {\n\treturn (\n\t\t<div className={`ui-close-button ${props.className}`}>\n\t\t\t<Boop>\n\t\t\t\t<i className=\"ui-alert__close-icon icon-close\" onClick={props.onClick} />\n\t\t\t</Boop>\n\t\t</div>\n\t)\n}\n\nCloseButton.defaultTypes = {\n\tclassName: \"\"\n}\n\nCloseButton.propTypes = {\n\tclassName: PropTypes.string,\n\tonClick: PropTypes.func\n}\n\nexport default CloseButton\n","import React, { useEffect, useRef } from \"react\"\nimport PropTypes from \"prop-types\"\nimport ReactDOM from \"react-dom\"\nimport \"./styles.scss\"\n\nimport { useClickOutside } from \"@/hooks\"\n\nimport CloseButton from \"@/ui-components/CloseButton/index\"\n\ninterface portalPropsType {\n\tchildren: any\n\tmodalTitle?: string\n}\n\ninterface propsType extends portalPropsType {\n\tisOpen: boolean\n\ttitle: any\n\tstyle?: any\n\tclassName?: string\n\tonClose?: (event: any) => void\n}\n\nconst ModalPortal = (props: portalPropsType) => {\n\tconst modalRoot = document.getElementById(\"modal-root\")\n\tconst el = document.createElement(\"div\")\n\n\tif (props.modalTitle) {\n\t\tel.classList.add(\"ui-modal-wrapper\")\n\t\tel.classList.add(props.modalTitle)\n\t}\n\n\tuseEffect(() => {\n\t\tif (modalRoot) {\n\t\t\tmodalRoot.appendChild(el)\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (modalRoot) {\n\t\t\t\tmodalRoot.removeChild(el)\n\t\t\t}\n\t\t}\n\t}, [el])\n\n\treturn ReactDOM.createPortal(props.children, el)\n}\n\nconst Modal = (props: propsType) => {\n\tconst ref = useRef(null)\n\tuseClickOutside({ ref, onClick: props.onClose })\n\n\tuseEffect(() => {\n\t\tconst handleEsc = (event: any) => {\n\t\t\tif (event.keyCode === 27) {\n\t\t\t\tif (props.onClose) {\n\t\t\t\t\tprops.onClose(event)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\twindow.addEventListener(\"keydown\", handleEsc)\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"keydown\", handleEsc)\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<ModalPortal modalTitle={props.modalTitle}>\n\t\t\t<React.Fragment>\n\t\t\t\t{props.isOpen && (\n\t\t\t\t\t<div ref={ref} className={`ui-modal ${props.className}`}>\n\t\t\t\t\t\t<div className=\"ui-modal-inner\" style={props.style}>\n\t\t\t\t\t\t\t<div className=\"ui-modal__header\">\n\t\t\t\t\t\t\t\t{props.title && <div className=\"ui-modal__title\">{props.title}</div>}\n\n\t\t\t\t\t\t\t\t<CloseButton className=\"ui-modal__close\" onClick={props.onClose} />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"ui-modal__content\">{props.children}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</React.Fragment>\n\t\t</ModalPortal>\n\t)\n}\n\nModal.defaultProps = {\n\tmodalTitle: \"modal-item\",\n\tclassName: \"\",\n\tstyle: {}\n}\n\nModal.propTypes = {\n\tisOpen: PropTypes.bool,\n\ttitle: PropTypes.node,\n\tchildren: PropTypes.node.isRequired,\n\tmodalTitle: PropTypes.string,\n\tclassName: PropTypes.string,\n\tonClose: PropTypes.func\n}\n\nexport default Modal\n","import React, { useState } from \"react\"\nimport \"./styles.scss\"\nimport { useHistory, useLocation } from \"react-router-dom\"\n\nimport { useDispatch } from \"react-redux\"\nimport { login } from \"@/store/profileSlice\"\n\nimport { useAlert, useTitle } from \"@/hooks\"\nimport { vEmail, vRequired, vApi } from \"@/helpers/validate.helper\"\n\nimport Input from \"@/ui-components/Input/index\"\nimport Button from \"@/ui-components/Button/index\"\nimport Link from \"@/ui-components/Link/index\"\nimport Modal from \"@/ui-components/Modal\"\n\nconst Login = () => {\n\tuseTitle(\"Вход\")\n\n\tconst history = useHistory()\n\tconst location = useLocation()\n\tconst dispatch = useDispatch()\n\tconst { addError, clearErrors } = useAlert()\n\n\tconst [email, setEmail] = useState(\"\")\n\tconst [password, setPassword] = useState(\"\")\n\tconst [isShowPassword, setIsShowPassword] = useState(false)\n\tconst [isRegModalOpen, setIsRegModalOpen] = useState(false)\n\tconst [apiErrors, setApiErrors]: [any, any] = useState({})\n\n\tconst { from }: { from: { pathname: string } } = location.state || ({ from: { pathname: \"/\" } } as any)\n\n\tconst contacts = [\n\t\t{\n\t\t\tid: \"email\",\n\t\t\tlabel: \"Почта\",\n\t\t\tvalue: \"kozlova9v@mail.ru\"\n\t\t},\n\t\t{\n\t\t\tid: \"telegram\",\n\t\t\tlabel: \"Telegram\",\n\t\t\tvalue: \"spanri\"\n\t\t},\n\t\t{\n\t\t\tid: \"vk\",\n\t\t\tlabel: \"VK\",\n\t\t\tvalue: \"https://vk.com/animeshny_kot\"\n\t\t}\n\t]\n\n\tconst validate = {\n\t\temail: [vRequired(), vEmail(), vApi(apiErrors[\"email\"])],\n\t\tpassword: [vRequired(), vApi(apiErrors[\"password\"])]\n\t}\n\n\tconst onLogin = async (event: any) => {\n\t\tevent.preventDefault()\n\n\t\ttry {\n\t\t\tawait dispatch(login({ email, password }))\n\n\t\t\thistory.replace(from)\n\t\t\tclearErrors()\n\t\t} catch ({ message, fields }) {\n\t\t\tsetApiErrors(fields)\n\t\t\taddError(message)\n\t\t}\n\t}\n\n\treturn (\n\t\t<form className=\"login\" onSubmit={onLogin}>\n\t\t\t<h2 className=\"login__title\">Войти в систему</h2>\n\n\t\t\t<Input\n\t\t\t\tclassName=\"login__input\"\n\t\t\t\tvalue={email}\n\t\t\t\tonChange={setEmail}\n\t\t\t\tvalidate={validate[\"email\"]}\n\t\t\t\ttype=\"email\"\n\t\t\t\tplaceholder=\"example@example.com\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\tlabel=\"EMAIL\"\n\t\t\t/>\n\t\t\t<Input\n\t\t\t\tclassName=\"login__input\"\n\t\t\t\tvalue={password}\n\t\t\t\tonChange={setPassword}\n\t\t\t\tvalidate={validate[\"password\"]}\n\t\t\t\ttype={isShowPassword ? \"text\" : \"password\"}\n\t\t\t\tplaceholder=\"123456#a\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\tlabel={\n\t\t\t\t\t<div className=\"login__password\">\n\t\t\t\t\t\t<span className=\"login__password-title\">ПАРОЛЬ</span>\n\t\t\t\t\t\t<Link className=\"login__password-remember-button\" to={{ pathname: \"/password-reset\" }}>\n\t\t\t\t\t\t\tЗабыли пароль?\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\tright={\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName={[\"login__password-show\", isShowPassword ? \"icon-eye-close\" : \"icon-eye-open\"].join(\" \")}\n\t\t\t\t\t\tonClick={e => setIsShowPassword(!isShowPassword)}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<Button className=\"login__submit\" type=\"submit\" width=\"100%\">\n\t\t\t\tВОЙТИ\n\t\t\t</Button>\n\n\t\t\t<div className=\"login__registration-button link\" onClick={() => setIsRegModalOpen(true)}>\n\t\t\t\tХочу зарегистрироваться\n\t\t\t</div>\n\n\t\t\t<Modal\n\t\t\t\tisOpen={isRegModalOpen}\n\t\t\t\tmodalTitle=\"reg-modal\"\n\t\t\t\ttitle={\"Памятка по регистрации\"}\n\t\t\t\tstyle={{ maxWidth: \"500px\", height: \"max-content\" }}\n\t\t\t\tonClose={() => setIsRegModalOpen(false)}\n\t\t\t>\n\t\t\t\t<div>Новые аккаунты регистрирует администратор. Если вы хотите получить доступ к системе, обратитесь к администратору:</div>\n\t\t\t\t<br />\n\n\t\t\t\t<div className=\"reg-modal__contacts-wrapper\">\n\t\t\t\t\t<div className=\"reg-modal__contacts\">\n\t\t\t\t\t\t{contacts.map(contact => (\n\t\t\t\t\t\t\t<div key={\"reg-modal-\" + contact.id} className=\"reg-modal__contacts-item\">\n\t\t\t\t\t\t\t\t<label className=\"reg-modal__contacts-label\">{contact.label}:</label>\n\t\t\t\t\t\t\t\t<strong className=\"reg-modal__contacts-value\">{contact.value}</strong>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"reg-modal__call-icon\">🤙</div>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t</form>\n\t)\n}\n\nexport default Login\n","import React, { useState } from \"react\"\nimport \"./styles.scss\"\nimport { useResizeDetector } from \"react-resize-detector\"\n\nimport { useDispatch } from \"react-redux\"\nimport { resetPassword } from \"@/store/profileSlice\"\nimport { useAlert, useTitle } from \"@/hooks\"\n\nimport Input from \"@/ui-components/Input/index\"\nimport Button from \"@/ui-components/Button/index\"\nimport Link from \"@/ui-components/Link/index\"\n\nconst PasswordReset = (props: { parentWidth: number; parentHeight: number }) => {\n\tuseTitle(\"Восстановление пароля\")\n\n\tconst dispatch = useDispatch()\n\tconst { addError, clearErrors } = useAlert()\n\tconst { width: contentWidth, height: contentHeight, ref: contentRef } = useResizeDetector()\n\n\tconst [email, setEmail] = useState(\"\")\n\tconst [isEmailSent, setIsEmailSent] = useState(false)\n\n\tconst EXTRA_SPACE = 40\n\n\tconst infoWidth = (() => {\n\t\tconst normalizedContentWidth = contentWidth || 0\n\t\tconst paddingWidth = (props.parentWidth - normalizedContentWidth) / 2\n\n\t\treturn normalizedContentWidth + paddingWidth + EXTRA_SPACE\n\t})()\n\n\tconst onSubmit = async () => {\n\t\ttry {\n\t\t\tawait dispatch(resetPassword({ email }))\n\n\t\t\tclearErrors()\n\t\t\tsetIsEmailSent(true)\n\t\t} catch ({ message }) {\n\t\t\taddError(message)\n\t\t}\n\t}\n\n\treturn (\n\t\t<div ref={contentRef} className=\"password-reset\">\n\t\t\t<h2 className=\"password-reset__title\">Восстановление пароля</h2>\n\n\t\t\t{!isEmailSent ? (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div className=\"password-reset__info\" style={{ width: infoWidth + \"px\" }}>\n\t\t\t\t\t\tВведите почту, которая была указана при регистрации. На эту почту придет письмо с дальнейшими указаниями.\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Input\n\t\t\t\t\t\tclassName=\"password-reset__input\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={setEmail}\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tplaceholder=\"example@example.com\"\n\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\tlabel=\"EMAIL\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button className=\"password-reset__submit\" width=\"100%\" onClick={onSubmit}>\n\t\t\t\t\t\tОТПРАВИТЬ ПИСЬМО\n\t\t\t\t\t</Button>\n\t\t\t\t</React.Fragment>\n\t\t\t) : (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div className=\"password-reset__info\" style={{ width: infoWidth + \"px\" }}>\n\t\t\t\t\t\tПисьмо отправлено!\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\n\t\t\t<Link className=\"password-reset__login-button\" to={{ pathname: \"/login\" }}>\n\t\t\t\tНа страницу входа\n\t\t\t</Link>\n\t\t</div>\n\t)\n}\n\nexport default PasswordReset\n","import React from \"react\"\nimport { Route, Redirect, Switch } from \"react-router-dom\"\n\nimport DefaultRoute from \"@/ui-components/DefaultRoute\"\nimport AuthDefaultLayout from \"../layouts/Default\"\nimport Login from \"./Login/Index\"\nimport PasswordReset from \"./PasswordReset/Index\"\n\nconst AuthIndex = () => {\n\treturn (\n\t\t<Switch>\n\t\t\t<DefaultRoute path=\"/login\">\n\t\t\t\t<AuthDefaultLayout>{params => <Login {...params} />}</AuthDefaultLayout>\n\t\t\t</DefaultRoute>\n\n\t\t\t<DefaultRoute path=\"/password-reset\">\n\t\t\t\t<AuthDefaultLayout>{params => <PasswordReset {...params} />}</AuthDefaultLayout>\n\t\t\t</DefaultRoute>\n\n\t\t\t<Route path=\"*\">\n\t\t\t\t<Redirect to=\"/login\" />\n\t\t\t</Route>\n\t\t</Switch>\n\t)\n}\n\nexport default AuthIndex\n","import React from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { selectUser, logout } from \"@/store/profileSlice\"\nimport { useTitle } from \"@/hooks\"\nimport Button from \"@/ui-components/Button\"\n\nconst Main = () => {\n\tuseTitle(\"Главная\")\n\n\tconst user = useSelector(selectUser)\n\tconst dispatch = useDispatch()\n\n\tconst onLogout = () => {\n\t\tdispatch(logout())\n\t}\n\n\treturn (\n\t\t<div style={{ padding: \"30px\" }}>\n\t\t\t<p>\n\t\t\t\t{\" \"}\n\t\t\t\t<strong>Главная</strong>\n\t\t\t</p>\n\n\t\t\t<br />\n\n\t\t\t<div>\n\t\t\t\tДанные юзера:\n\t\t\t\t<p>token: {user.token}</p>\n\t\t\t</div>\n\n\t\t\t<br />\n\n\t\t\t<p>Ха-ха, здесь ничего нет.</p>\n\n\t\t\t<br />\n\n\t\t\t<Button onClick={onLogout}>Выйти</Button>\n\t\t</div>\n\t)\n}\n\nexport default Main\n","/**\n * logic from here:\n * https://stackoverflow.com/questions/55275788/react-native-count-down-timer-in-millisecond\n */\n\nexport class CustomTimer {\n\tprivate _id: any\n\tprivate _started: any\n\tprivate _isRunning: boolean = false\n\tprivate _callback: any\n\tprivate _remaining: number\n\n\tconstructor(callback: any = () => {}, delay: number) {\n\t\tthis._callback = callback\n\t\tthis._remaining = delay\n\n\t\tthis.start()\n\t}\n\n\tpublic start() {\n\t\tthis._isRunning = true\n\t\tthis._started = new Date()\n\t\tthis._id = setTimeout(this._callback, this._remaining)\n\t}\n\n\tpublic pause() {\n\t\tthis._isRunning = false\n\t\tclearTimeout(this._id)\n\t\tthis._remaining -= new Date().getTime() - this._started.getTime()\n\t}\n\n\tpublic clear() {\n\t\tthis._isRunning = false\n\t\tclearTimeout(this._id)\n\t\tthis._remaining = 0\n\t}\n\n\tpublic getTimeLeft() {\n\t\tif (this._isRunning) {\n\t\t\tthis.pause()\n\t\t\tthis.start()\n\t\t}\n\n\t\treturn this._remaining\n\t}\n\n\tpublic getStateRunning() {\n\t\treturn this._isRunning\n\t}\n}\n","import React, { useEffect, useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport \"./styles.scss\"\nimport { CustomTimer } from \"@/helpers/timer.helper\"\n\nimport CloseButton from \"@/ui-components/CloseButton/index\"\n\nconst THEMES = [\"info\", \"success\", \"error\"] as const\n\ninterface propsType {\n\tchildren: any\n\tclassName?: string\n\ttheme: typeof THEMES[number]\n\ttimeout: number\n\tonDelete?: () => void\n}\n\nconst Alert = (props: propsType) => {\n\tconst [isShow, setIsShow] = useState(true)\n\tconst [customTimer, setCustomTimer] = useState({ getTimeLeft: () => 0 }) as any\n\tconst [timeLeft, setTimeLeft] = useState(0) as any\n\n\tuseEffect(() => {\n\t\tconst customTimer = new CustomTimer((event: any) => onPrettyDelete(), props.timeout)\n\n\t\tsetCustomTimer(customTimer)\n\n\t\tconst intervalId = setInterval(() => {\n\t\t\tsetTimeLeft(customTimer.getTimeLeft())\n\t\t}, 10)\n\n\t\treturn () => {\n\t\t\tcustomTimer.clear()\n\t\t\tclearInterval(intervalId)\n\t\t}\n\t}, [])\n\n\t// Подождать, потом сделать анимацию удаления и потом вызвать onDelete\n\tconst onPrettyDelete = () => {\n\t\tsetIsShow(false)\n\n\t\tconst ANIMATION_DURATION = 600\n\t\tsetTimeout(() => {\n\t\t\tif (props.onDelete) {\n\t\t\t\tprops.onDelete()\n\t\t\t}\n\t\t}, ANIMATION_DURATION)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`ui-alert ${props.theme} ${props.className} ${!isShow ? \"hide\" : \"\"}`}\n\t\t\tonMouseEnter={e => customTimer.pause()}\n\t\t\tonMouseLeave={e => customTimer.start()}\n\t\t>\n\t\t\t<div className=\"ui-alert-inner\">\n\t\t\t\t<div className=\"ui-alert__content\">{props.children}</div>\n\n\t\t\t\t<CloseButton className=\"ui-alert__close\" onClick={onPrettyDelete} />\n\t\t\t</div>\n\n\t\t\t<div className=\"ui-alert__loading\" style={{ width: (timeLeft / props.timeout) * 100 + \"%\" }} />\n\t\t</div>\n\t)\n}\n\nAlert.defaultProps = {\n\ttheme: \"info\",\n\ttimeout: 4000\n}\n\nAlert.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tclassName: PropTypes.string,\n\ttheme: PropTypes.oneOf(THEMES),\n\ttimeout: PropTypes.number,\n\tonDelete: PropTypes.func\n}\n\nexport default Alert\n","import React, { useEffect } from \"react\"\nimport PropTypes from \"prop-types\"\nimport \"./styles.scss\"\nimport { useAlert } from \"@/hooks\"\n\nimport Alert from \"./Alert/index\"\n\ninterface propsType {\n\tclassName?: string\n\tsuccessItems: alertType[]\n\terrorItems: alertType[]\n}\n\nconst MAX_COUNT = 5\n\nconst AlertManager = (props: propsType) => {\n\tconst { deleteAlert } = useAlert()\n\n\tconst normalizeAlerts = (items: alertType[]) => {\n\t\titems.forEach((item, index) => {\n\t\t\tif (index > MAX_COUNT) {\n\t\t\t\tdeleteAlert(item.id)\n\t\t\t}\n\t\t})\n\t}\n\n\tconst normalizedErrorItems = [...props.errorItems].reverse()\n\tuseEffect(() => normalizeAlerts(normalizedErrorItems), [normalizedErrorItems])\n\n\tconst normalizedSuccessItems = [...props.successItems].reverse()\n\tuseEffect(() => normalizeAlerts(normalizedErrorItems), [normalizedErrorItems])\n\n\tconst onDeleteAlert = (alertItem: alertType) => {\n\t\tdeleteAlert(alertItem.id)\n\t}\n\n\treturn (\n\t\t<div className={`ui-alert-manager ${props.className}`}>\n\t\t\t{!!props.errorItems.length && (\n\t\t\t\t<div className=\"ui-alert-manager__error block\">\n\t\t\t\t\t<div className=\"block__title\">Ошибка</div>\n\n\t\t\t\t\t{normalizedErrorItems.map(errorItem => (\n\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\tkey={`error-item-${errorItem.id}`}\n\t\t\t\t\t\t\tclassName=\"block__item\"\n\t\t\t\t\t\t\ttheme=\"error\"\n\t\t\t\t\t\t\ttimeout={errorItem.timeout}\n\t\t\t\t\t\t\tonDelete={() => onDeleteAlert(errorItem)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{errorItem.text}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{!!props.successItems.length && (\n\t\t\t\t<div className=\"ui-alert-manager__success block\">\n\t\t\t\t\t<div className=\"block__title\">Успешно</div>\n\n\t\t\t\t\t{normalizedSuccessItems.map(successItem => (\n\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\tkey={`success-item-${successItem.id}`}\n\t\t\t\t\t\t\tclassName=\"block__item\"\n\t\t\t\t\t\t\ttheme=\"success\"\n\t\t\t\t\t\t\ttimeout={successItem.timeout}\n\t\t\t\t\t\t\tonDelete={() => onDeleteAlert(successItem)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{successItem.text}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAlertManager.propTypes = {\n\tclassName: PropTypes.string,\n\tsuccessItems: PropTypes.array.isRequired,\n\terrorItems: PropTypes.array.isRequired\n}\n\nexport default AlertManager\n","import React from \"react\"\nimport \"@/assets/styles/indexApp.scss\"\nimport \"./App.scss\"\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\"\n\nimport { Provider, useSelector } from \"react-redux\"\nimport store from \"@/store/index\"\nimport { selectIsAuthenticated } from \"@/store/profileSlice\"\nimport { selectSuccessItems, selectErrorItems } from \"@/store/alertSlice\"\n\nimport Default from \"@/layouts/Default\"\nimport Auth from \"@/modules/auth/pages/_Index\"\nimport Main from \"@/modules/main/pages/Main\"\nimport AlertManager from \"@/ui-components/AlertManager\"\n\nconst App = () => {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<WithStore />\n\t\t</Provider>\n\t)\n}\n\nconst WithStore = () => {\n\tconst successItems = useSelector(selectSuccessItems)\n\tconst errorItems = useSelector(selectErrorItems)\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<AlertManager className=\"alert-manager\" successItems={successItems} errorItems={errorItems} />\n\n\t\t\t<BrowserRouter>\n\t\t\t\t<Protected />\n\t\t\t</BrowserRouter>\n\t\t</React.Fragment>\n\t)\n}\n\nconst Protected = () => {\n\tconst isAuthenticated = useSelector(selectIsAuthenticated)\n\treturn isAuthenticated ? <MainWrapper /> : <Auth />\n}\n\nconst MainWrapper = () => {\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path=\"/\">\n\t\t\t\t<Default>\n\t\t\t\t\t<Main />\n\t\t\t\t</Default>\n\t\t\t</Route>\n\t\t</Switch>\n\t)\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { STATE_NAME } from \"@/helpers/lsState.helper\"\nimport \"./index.scss\"\n\nimport App from \"./App\"\n\n// reload other tabs, if this is login/logout\nwindow.addEventListener(\"storage\", event => {\n\tconst isReduxState = event.key == STATE_NAME\n\tif (isReduxState) {\n\t\tconst newValue = JSON.parse(event.newValue || \"\")\n\t\tconst oldValue = JSON.parse(event.oldValue || \"\")\n\t\tconst newIsAuthenticated = newValue && newValue.profile && newValue.profile.isAuthenticated\n\t\tconst oldIsAuthenticated = oldValue && oldValue.profile && oldValue.profile.isAuthenticated\n\n\t\tif (newIsAuthenticated != oldIsAuthenticated) {\n\t\t\twindow.location.reload()\n\t\t}\n\t}\n})\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<div id=\"app-root\">\n\t\t\t<App />\n\t\t</div>\n\n\t\t<div id=\"modal-root\" />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n)\n"],"sourceRoot":""}